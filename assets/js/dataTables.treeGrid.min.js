/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/datatables-treegrid@1.0.4/dataTables.treeGrid.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}((function(e,t,n){"use strict";var r=e.fn.dataTable,o=function(t,n){var r=this;if(this instanceof o){void 0!==n&&!0!==n||(n={});var i=new e.fn.dataTable.Api(t).settings()[0];if(this.s={dt:i},i._oTreeGrid)throw"TreeGrid already initialised on this table";i._oTreeGrid=this,i._bInitComplete?this.fnConstruct(n):i.oApi._fnCallbackReg(i,"aoInitComplete",(function(){r.fnConstruct(n)}),"TreeGrid")}else alert('TreeGrid warning: TreeGrid must be initialised with the "new" keyword.')};function i(t,n){var r=t.row(n),o=e(r.node()).attr("parent-index");if(null!==o){var a='[parent-index="'+(o=+o)+'"]',d=t.rows(a).nodes(),s=t.rows(a,{selected:!0}).nodes();if(d.length===s.length){var c=t.row(o,{selected:!1});c.select(),c.node()&&i(t,o)}}}function a(e,t){var n=e.rows('[parent-index="'+t+'"]',{selected:!1}),r=n.indexes().toArray();r.length&&(n.select(),r.forEach((function(t){a(e,t)})))}function d(t,n){var r=t.row(n),o=e(r.node()).attr("parent-index");if(null!==o){o=+o;var i=t.row(o,{selected:!0});i.deselect(),i.node()&&d(t,o)}}function s(e,t){var n=e.rows('[parent-index="'+t+'"]',{selected:!0}),r=n.indexes().toArray();r.length&&(n.deselect(),r.forEach((function(t){s(e,t)})))}function c(t){return e(t).parents("tr")[0]}function l(t){return"TD"===t.tagName?t:e(t).parents("td")[0]}return e.extend(o.prototype,{fnConstruct:function(t){this.s=e.extend(!0,this.s,o.defaults,t);var n=this.s.dt,r=n._select,f=e(n.nTable).dataTable().api(),u=this.s.left,p={},h=e(this.s.expandIcon),g=e(this.s.collapseIcon),v=function(t){var n=p[t];n&&n.length&&(n.forEach((function(t){var n=e(t).attr("tg-id");p[n]&&v(n),f.row(e(t)).remove(),e(t).remove()})),delete p[t],e("#"+t).find(".treegrid-control-open").each((function(t,n){e(n).removeClass("treegrid-control-open").addClass("treegrid-control"),e(n).html("").append(h.clone())})))},m=function(t){var n=["odd","even"];e(t.table().body()).find("tr").each((function(t,r){e(r).removeClass("odd even").addClass(n[t%2])}))};f.on("click","td.treegrid-control",(function(t){if(e(this).html()){var n=[];r&&(n=f.rows({selected:!0}).indexes().toArray());var o=c(t.target),i="tr-"+Date.now();e(o).attr("tg-id",i);var a=f.row(o),d=a.index(),s=a.data(),h=e(f.cell(l(t.target)).node()),v=parseInt(h.css("padding-left"),10),w=parseInt(h.find("span").css("margin-left")||0,10)/u,x=g.clone();if(x.css("marginLeft",w*u+"px"),h.removeClass("treegrid-control").addClass("treegrid-control-open"),h.html("").append(x),s.children&&s.children.length){var T=p[i]=[],b=a.node();s.children.forEach((function(t){var n=f.row.add(t).node(),r=e(n).find(".treegrid-control"),o=(w+1)*u;e(n).attr("parent-index",d),r.find("span").css("marginLeft",o+"px"),r.next().css("paddingLeft",v+o+"px"),e(n).insertAfter(b),b=n,T.push(n)})),m(f),r&&setTimeout((function(){f.rows(n).select()}),0)}}})),f.on("click","td.treegrid-control-open",(function(t){var n=[];r&&(n=f.rows({selected:!0}).indexes().toArray());var o=c(t.target),i=e(o).attr("tg-id"),a=e(f.cell(l(t.target)).node()),d=parseInt(a.find("span").css("margin-left")||0,10)/u,s=h.clone();s.css("marginLeft",d*u+"px"),a.removeClass("treegrid-control-open").addClass("treegrid-control"),a.html("").append(s),v(i),m(f),r&&setTimeout((function(){f.rows(n).select()}),0)})),f.on("page",(function(){v()})),f.on("order",(function(){v()}));var w=!1;r&&"multi"===r.style&&f.on("select",(function(e,t,n,r){w||(w=!0,r.forEach((function(e){i(f,e),a(f,e)})),w=!1)})),r&&"multi"===r.style&&f.on("deselect",(function(e,t,n,r){w||(w=!0,r.forEach((function(e){d(f,e),s(f,e)})),w=!1)}))}}),o.defaults={left:12,expandIcon:"<span>+</span>",collapseIcon:"<span>-</span>"},o.version="1.0.4",r.Api.register("treeGrid()",(function(){return this})),e(n).on("init.dt.treeGrid",(function(t,n){if("dt"===t.namespace){var i=n.oInit.treeGrid,a=r.defaults.treeGrid;if(i||a){var d=e.extend({},i,a);!1!==i&&new o(n,d)}}})),e.fn.dataTable.TreeGrid=o,e.fn.DataTable.TreeGrid=o,o}));
//# sourceMappingURL=/sm/ee1cb23f02d8c932194ff4bad3f3d69c7b1485c97b752c0bc93a159c709b8952.map